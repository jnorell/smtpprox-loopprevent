.TH smtpprox-loopprevent 1 "2012-12-03" GNU

.SH NAME
smtpprox-loopprevent \- Transparent SMTP proxy to prevent mail forwarding loops

.SH SYNOPSIS
.B smtpprox-loopprevent
.RI [ options ]
listen.addr:port
talk.addr:port
.br

.SH DESCRIPTION
This manual page explains the \fBsmtpprox-loopprevent\fP program.
.PP
\fBsmtpprox-loopprevent\fP is a transparent SMTP proxy which rejects a message
message if any of the recipient addresses (\fIRcpt To:\fR) match a \fIDelivered-To:\fR header.
.PP
\fBsmtpprox-loopprevent\fP listens on the \fIlisten.addr:port\fR address and port
and sends smtp traffic unmodified to the SMTP server at \fItalk.addr:port\fR.
.PP
\fBsmtpprox-loopprevent\fP was written to be a Postfix before-queue content filter,
but will function between any SMTP client and server.

.SH OPTIONS
.B
.IP --children=N
The number of child processes to maintain in the service pool.
Each child terminates after servicing a random number of messages between
\fIminperchild\fR and \fImaxperchild\fR.
.br
[default 16]
.B
.IP --minperchild=N
Minimum number of messages serviced by a child process.
.br
[default 100]
.B
.IP --maxperchild=N
Maximum number of messages serviced by a child process.
.br
[default 200]
.B
.IP --debugtrace=filename_prefix
If \fIdebugtrace\fR is specified, the prefix will have the PID
appended to it for a separate logfile for each child, which will
capture all the SMTP dialogues that child services. It looks like a
snooper on the client side of the proxy.

.SH "SEE ALSO"
\&\fIsmtpprox\fR\|(1)
\& \fIhttp://www.postfix.org/SMTPD_PROXY_README.html\fR

.SH AUTHOR
Jesse Norell

